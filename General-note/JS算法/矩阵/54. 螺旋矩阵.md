---
title: 54. 螺旋矩阵
---
给你一个 `m` 行 `n` 列的矩阵 `matrix` ，请按照 **顺时针螺旋顺序** ，返回矩阵中的所有元素。

**示例 1：**

![](https://assets.leetcode.com/uploads/2020/11/13/spiral1.jpg)

**输入：** `matrix = [[1,2,3],[4,5,6],[7,8,9]]`
**输出：** `[1,2,3,6,9,8,7,4,5]`

![image.png](https://pic.leetcode-cn.com/42ee2ec6854ee79ac2b7c91259d2ad5db70522668d11fc691e9e14426918a666-image.png)  

如果一条边从头遍历**到底**，则下一条边遍历的起点随之变化
选择不遍历到底，可以减小横向、竖向遍历之间的影响
一轮迭代结束时，4条边的两端同时收窄 1
一轮迭代所做的事情变得很清晰：遍历一个“圈”，遍历的范围收缩为内圈
一层层向里处理，按顺时针依次遍历：上、右、下、左。
不再形成“环”了，就会剩下：一行或一列，然后单独判断

```js
var spiralOrder = function(matrix) {

    if(matrix.length === 0) return []
    let width = matrix.length-1;
    let length = matrix[0].length-1;
    let p = 0;//循环的圈数
    const result = [];
    while(p < length && p < width){
        for(let i = p; i < length; i++) result.push(matrix[p][i])
        for(let i = p; i< width; i++) result.push(matrix[i][length])
        for(let i = length; i > p; i--) result.push(matrix[width][i])
        for(let i = width; i > p; i--) result.push(matrix[i][p])
        p++;
        width--;
        length--;
    }

    if(result.length < matrix.length * matrix[0].length){
        if(length > width){
            for(let i = p; i < length+1; i++) result.push(matrix[p][i])
        }else{
            for(let i = p; i< width+1; i++) result.push(matrix[i][length])
        }
    }
    return result;
};
```

