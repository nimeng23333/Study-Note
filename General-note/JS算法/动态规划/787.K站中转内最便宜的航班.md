---
title: 787.K站中转内最便宜的航班
---
动态规划
维护数组`dp[i][j]`  i表示第i次搭乘飞机，j表示到达城市j，数值表示经过n次飞机到达j城市最小花费

状态转移：`dp[i][j]`为`dp[i][j]`和`dp[i][d] + cost`的 较小值，其中d为当前flight的起点城市，cost为当前cost
```js
var findCheapestPrice = function(n, flights, src, dst, k) {
    const INF = 10000 * 101 + 1;
    const dp = new Array(k+2).fill(0).map(() => new Array(n).fill(INF))
    dp[0][src] = 0;
    for(let i = 1; i < k+2; i++){
        for(const flight of flights){
            let s = flight[0], d = flight[1], cost = flight[2];
            dp[i][d] = Math.min(dp[i][d], dp[i-1][s] + cost)
        }
    }
    let ans = INF
    for(let i = 1; i< k+2; i++){
        ans = Math.min(ans, dp[i][dst])
    }
    return ans === INF ? -1 : ans
};
```