---
title: 5.ANTD配置
---
## 表单
[表单 Form - Ant Design](https://ant.design/components/form-cn)

## ConfigProvider 全局化配置
ConfigProvider 使用 React 的 [context](https://facebook.github.io/react/docs/context.html) 特性，只需在应用外围包裹一次即可全局生效。
[全局化配置 ConfigProvider - Ant Design](https://ant.design/components/config-provider-cn)

[国际化 - Ant Design](https://ant.design/docs/react/i18n-cn)
```tsx
import zhCN from 'antd/locale/zh_CN';
// for date-picker i18n
import 'dayjs/locale/zh-cn';

return (
  <ConfigProvider locale={zhCN}>
    <App />
  </ConfigProvider>
);
```

## App包裹
[包裹组件 App - Ant Design](https://ant.design/components/app-cn)

App 组件通过 `Context` 提供上下文方法调用，因而 useApp 需要作为子组件才能使用，我们推荐在应用中顶层包裹 App。

App 组件只能在 `ConfigProvider` 之下才能使用 Design Token， 如果需要使用其样式重置能力，则 ConfigProvider 与 App 组件必须成对出现。

message
notification 
modal

- 提供可消费 React context 的 `message.xxx`、`Modal.xxx`、`notification.xxx` 的静态方法，可以简化 useMessage 等方法需要手动植入 `contextHolder` 的问题。
- 提供基于 `.ant-app` 的默认重置样式，解决原生元素没有 antd 规范样式的问题

```TS
import React from 'react';
import { App, Button, Space } from 'antd';

// Sub page
const MyPage = () => {
  const { message, modal, notification } = App.useApp();

  const showMessage = () => {
    message.success('Success!');
  };

  const showModal = () => {
    modal.warning({
      title: 'This is a warning message',
      content: 'some messages...some messages...',
    });
  };

  const showNotification = () => {
    notification.info({
      message: 'Notification topLeft',
      description: 'Hello, Ant Design!!',
      placement: 'topLeft',
    });
  };

  return (
    <Space wrap>
      <Button type="primary" onClick={showMessage}>
        Open message
      </Button>
      <Button type="primary" onClick={showModal}>
        Open modal
      </Button>
      <Button type="primary" onClick={showNotification}>
        Open notification
      </Button>
    </Space>
  );
};

// Entry component
export default () => (
  <App>
    <MyPage />
  </App>
);
```

# CSS变量支持
Ant Design v5 的 CSS 变量功能
`cssVar: true` 后，Ant Design 会自动注入一系列 CSS 变量，比如：

- `--ant-color-text`
    
- `--ant-color-text-secondary`
    
- `--ant-color-bg-base`
    
- `--ant-color-primary`

```tsx
import { ConfigProvider } from 'antd';

<ConfigProvider
  theme={{
    token: {
      colorPrimary: primary,
    },
    cssVar: true, // 启用 CSS 变量
    algorithm: [
      isDarkMode ? darkAlgorithm : undefined,
      isCompactMode ? compactAlgorithm : undefined,
    ].filter(Boolean),
  }}
>
  {/* 组件 */}
</ConfigProvider>
```