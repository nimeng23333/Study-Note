---
title: 入门与调试
---
# 坐标轴 AxesHelper
axesHelper

# 轨道控制器 OrbitControls

[OrbitControls – three.js docs](https://threejs.org/docs/index.html?q=orbit#examples/en/controls/OrbitControls)

```js
import { OrbitControls } from "three/examples/jsm/controls/OrbitControls";

const cameraControl = new OrbitControls(camera, renderer.domElement)
```

```js
// 添加相机的轨道控制器
const cameraControl = new OrbitControls(camera, renderer.domElement)

// 控制器带阻尼
cameraControl.enableDamping = true;

// 阻尼系数
cameraControl.dampingFactor = 0.05;

// 设置自动旋转
cameraControl.autoRotate = true
```

==注意：一定要在animation里加orbit control的update==

```js
function animate(){
  cameraControl.update()//一定不要忘记这个update，不然会出现错误
  requestAnimationFrame(animate) //请求下一个动画帧
  mesh.rotation.y += 0.01 //物体持续旋转
  renderer.render(scene, camera) //渲染场景和相机
}
animate()
```

# 坐标
mesh的position是针对父元素的相对position

```js
// 创建简单立方体

const geometry = new THREE.BoxGeometry(1,1,1);
// 创建材质
const material = new THREE.MeshBasicMaterial({color: 0x00ff00})

// 创建网格
const mesh = new THREE.Mesh(geometry, material) //传递物体和材质

// 创建一个父网格
let parentMesh = new THREE.Mesh(geometry, material)

parentMesh.add(mesh)
parentMesh.position.set(3,0,0)
mesh.position.set(-3,0,0) //这里的position是针对父元素的position，并不是绝对坐标，表现为mesh在坐标原点

// 将父mesh加入场景
scene.add(parentMesh)
```

# 缩放
scale与position一致都是针对父元素的相对缩放

# 旋转
rotation也是相对旋转
[Euler – three.js docs](https://threejs.org/docs/?q=eu#api/zh/math/Euler)

采用欧拉角（一个类）

欧拉角描述一个旋转变换，通过指定轴顺序和其各个轴向上的指定旋转角度来旋转一个物体。

对 Euler 实例进行遍历将按相应的顺序生成它的分量 (x, y, z, order)。

欧拉角代码示例

`const a = new THREE.Euler( 0, 1, 1.57, 'XYZ' ); const b = new THREE.Vector3( 1, 0, 1 ); b.applyEuler(a);`

欧拉角构造器（Constructor）

### Euler( x : Float, y : Float, z : Float, order : String )

x - (optional) 用弧度表示x轴旋转量。 默认值是 **0**。  
y - (optional) 用弧度表示y轴旋转量。 默认值是 **0**。  
z - (optional) 用弧度表示z轴旋转量。 默认值是 **0**。  
order - (optional) 表示旋转顺序的字符串，默认为'XYZ'（必须是大写）

### .[rotateOnAxis](https://threejs.org/docs/index.html#api/zh/core/Object3D.rotateOnAxis) ( axis : [Vector3](https://threejs.org/docs/index.html#api/zh/math/Vector3), angle : Float ) : this

axis —— 一个在局部空间中的标准化向量。  
angle —— 角度，以弧度来表示。  
  
在局部空间中绕着该物体的轴来旋转一个物体，假设这个轴已被标准化。

### .[rotateOnWorldAxis](https://threejs.org/docs/index.html#api/zh/core/Object3D.rotateOnWorldAxis) ( axis : [Vector3](https://threejs.org/docs/index.html#api/zh/math/Vector3), angle : Float ) : this

axis -- 一个在世界空间中的标准化向量。  
angle -- 角度，以弧度来表示。  
  
在世界空间中绕着该物体的轴来旋转一个物体，假设这个轴已被标准化。 方法假设该物体没有旋转过的父级。

### .[rotateX](https://threejs.org/docs/index.html#api/zh/core/Object3D.rotateX) ( rad : Float ) : this

rad - 将要旋转的角度（以弧度来表示）。  
  
绕局部空间的X轴旋转这个物体。

### .[rotateY](https://threejs.org/docs/index.html#api/zh/core/Object3D.rotateY) ( rad : Float ) : this

rad - 将要旋转的角度（以弧度来表示）。  
  
绕局部空间的Y轴旋转这个物体。

### .[rotateZ](https://threejs.org/docs/index.html#api/zh/core/Object3D.rotateZ) ( rad : Float ) : this

rad - 将要旋转的角度（以弧度来表示）。  
  
绕局部空间的Z轴旋转这个物体。


# 画布适应窗口大小
设置窗口监听，并修改画布大小

```js
// 监听窗口变化

window.addEventListener("resize" , ()=>{
  // 重置画布宽高比
  renderer.setSize(window.innerWidth, window.innerHeight)

  // 重置相机宽高比
  camera.aspect = window.innerWidth / window.innerHeight

  // 更新相机投影矩阵
  camera.updateProjectionMatrix();
})
```

# 全屏

```js
// 全屏按钮
const btn = document.createElement("button")
btn.innerHTML = "点击全屏"
btn.style.position="absolute"
btn.style.backgroundColor="pink";
btn.onclick = function(){
  // renderer.domElement.requestFullscreen(); 
  //设置canvas全屏，会覆盖button
  document.body.requestFullscreen() //设置body全屏
}
document.body.appendChild(btn)

// 退出全屏
const exitBtn = document.createElement("button")
exitBtn.innerHTML = "退出全屏"
exitBtn.style.position="absolute"
exitBtn.style.backgroundColor="pink";
exitBtn.style.display = "none"
exitBtn.onclick = function(){
  document.exitFullscreen() //退出全屏
}
document.body.appendChild(exitBtn)

// 监听全屏
document.addEventListener("fullscreenchange", ()=>{
  if (document.fullscreenElement) {
    btn.style.display = "none"
    exitBtn.style.display = "block"
    } else {
      btn.style.display = "block"
      exitBtn.style.display = "none"
    }
})
```